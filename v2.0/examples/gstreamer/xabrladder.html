


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

	<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="37701bd4-e5c0-4ee3-9329-e7475d0b13a7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
		<!-- Google Tag Manager -->
	<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
	<!-- End Google Tag Manager -->
	
        <!-- Google Tag Manager -->
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
        <!-- End Google Tag Manager -->	

  
  
  
  

  
      <script type="text/javascript" src="../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../_static/js/Searchbox.min.js"></script>
    <script type="text/javascript" src="../../_static/js/header-footer.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pro.min.css" media="all" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="XMA Examples for the Xilinx Video SDK" href="../xma/xma_apps.html" />
    <link rel="prev" title="GStreamer Compositor Application" href="xcompositor.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
 <div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">

    
    

    



<div class="xf-content-height">
    

<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
    
    <div class="header parbase aem-GridColumn aem-GridColumn--default--12"><noindex>
	<header data-component="header" class="site-header">
		<nav class="navbar navbar-default">
			<div class="container-fluid main-nav">
				<div class="row">
					<div class="navbar-column col-xs-4 col-sm-5">
						<ul class="nav navbar-nav hidden-xs">
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
								</li>
							</ul>
							
						<ul class="nav navbar-nav hidden-sm hidden-md hidden-lg">
							<li>
									<button data-target="#header-container-0" data-function="toggle">Solutions</button>
								</li>
							<li>
									<button data-target="#header-container-1" data-function="toggle">Products</button>
								</li>
							<li>
									<button data-target="#header-container-2" data-function="toggle">Company</button>
								</li>
							</ul>
							
						<div id="header-container-0" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-1" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-2" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							</div>
					<div class="logo-column col-xs-4 col-sm-2">
						<div class="logo">
							<a target="_blank" href="https://www.xilinx.com/">
								<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
							</a>
						</div>
					</div>

				</div>
			</div>
			</nav></header></noindex></div>
		
	
</div>

    
</div>
</div>

<div class="calloutBanner parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><div class="callout-banner">
    Xilinx is now a part of <a target="_blank" href="https://www.amd.com/en/corporate/xilinx-acquisition">AMD</a> |  <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Learn More</a>
</div>
</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Xilinx Video SDK
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started_on_prem.html">On Premises</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started_on_vt1.html">Amazon EC2 VT1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../container_setup.html">Container Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../examples.html">Tutorials and Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ffmpeg/tutorials.html">FFmpeg Introductory Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ffmpeg/filters.html">FFmpeg Software Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ffmpeg/quality_analysis.html">FFmpeg Video Quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html">GStreamer Introductory Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="filters.html">GStreamer Software Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="quality_analysis.html">GStreamer Video Quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="xcompositor.html">GStreamer Compositor</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">GStreamer ABR Ladder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#host-system-requirement">Host System Requirement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#json-usage">JSON Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../xma/xma_apps.html">C-Based Applications</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../specs_and_features.html">Specs and Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using_ffmpeg.html">Using FFmpeg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using_gstreamer.html">Using GStreamer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tuning_encoding_quality.html">Tuning Quality of Encoded Video</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../managing_compute_resources.html">Managing Compute Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploying_with_kubernetes.html">Deploying with Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../c_apis.html">C API Programming Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../card_management.html">Card Management</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Xilinx/video-sdk-staging/issues">File an issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/video-sdk/browse.html">Other versions</a></li>
</ul>

            
			
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Xilinx Video SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../examples.html">Tutorials and Examples</a> &raquo;</li>
        
      <li>GStreamer ABR Ladder Application</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="gstreamer-abr-ladder-application">
<span id="gst-abrladder"></span><h1>GStreamer ABR Ladder Application<a class="headerlink" href="#gstreamer-abr-ladder-application" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id1">Introduction</a></p></li>
<li><p><a class="reference internal" href="#host-system-requirement" id="id2">Host System Requirement</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id3">Usage</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id4">Examples</a></p></li>
</ul>
</div>
<section id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The <strong class="program">vvas_xabrladder</strong> application is a command line utility which implements the GStreamer video transcoding pipeline described in the diagram below. This application expects an input video file (mp4 with H.264/H.265 or H.264/H.265 elementary stream) and produces 5 different H.264/H.265 elementary streams. The resolution of each output stream is configured using a JSON file (by default: <code class="file docutils literal notranslate"><span class="pre">/opt/xilinx/vvas/share/vvas-examples/abrladder.json</span></code>). The output streams produced by this application are saved in the <code class="file docutils literal notranslate"><span class="pre">/tmp/ladder_outputs/</span></code> folder.</p>
<a class="reference internal image-reference" href="../../_images/gst_xabrladder.png"><img alt="GStreamer pipeline of the vvas_xabrladder application" class="align-center" src="../../_images/gst_xabrladder.png" style="width: 1024px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This example supports only input files of type mp4 with H.264/H.265 elementary stream in it. No other formats are supported</p>
</div>
</section>
<section id="host-system-requirement">
<h2><a class="toc-backref" href="#id2">Host System Requirement</a><a class="headerlink" href="#host-system-requirement" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Xilinx Video SDK</p></li>
<li><p>GStreamer 1.16.2</p></li>
<li><p>gst-plugins-good</p></li>
<li><p>gst-plugins-base</p></li>
<li><p>gst-plugins-bad</p></li>
<li><p>gst-libav</p></li>
<li><p>gstpbutils</p></li>
<li><p>Opensource GStreamer plugins to be verified after installation of above packages:</p>
<ul>
<li><p>h264parse</p></li>
<li><p>h265parse</p></li>
<li><p>qtdemux</p></li>
<li><p>tee</p></li>
<li><p>filesink</p></li>
<li><p>filesrc</p></li>
</ul>
</li>
</ul>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id3">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Below are the input parameters required to run the application.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 13%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Short Form</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-devidx">
<span class="sig-name descname"><span class="pre">--devidx</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-devidx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-i">
<span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-i" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><div class="line-block">
<div class="line">device index</div>
<div class="line">Type:    int</div>
<div class="line">Range:   0 to 31</div>
<div class="line">Default: NA</div>
<div class="line">Option:  Mandatory</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-json">
<span class="sig-name descname"><span class="pre">--json</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-j">
<span class="sig-name descname"><span class="pre">-j</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-j" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><div class="line-block">
<div class="line">JSON file used to describe the configuration of the ABR ladder</div>
<div class="line">Type:    string</div>
<div class="line">Range:   NA</div>
<div class="line">Default: <code class="file docutils literal notranslate"><span class="pre">/opt/xilinx/vvas/share/vvas-examples/abrladder.json</span></code></div>
<div class="line">Option:  Optional</div>
</div>
</td>
</tr>
<tr class="row-even"><td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-lookahead_enable">
<span id="cmdoption-lookahead-enable"></span><span class="sig-name descname"><span class="pre">--lookahead_enable</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-lookahead_enable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-l">
<span class="sig-name descname"><span class="pre">-l</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-l" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><div class="line-block">
<div class="line">Enables or disables lookahead functionality</div>
<div class="line">Type:    int</div>
<div class="line">Range:   0 (disable), 1 (enable)</div>
<div class="line">Default: 1</div>
<div class="line">Option:  Optional</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-codectype">
<span class="sig-name descname"><span class="pre">--codectype</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-codectype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-c">
<span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-c" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><div class="line-block">
<div class="line">Output codec type</div>
<div class="line">Type:    int</div>
<div class="line">Range:   0 (H264), 1 (H265)</div>
<div class="line">Default: NA</div>
<div class="line">Option:  Mandatory</div>
</div>
</td>
</tr>
<tr class="row-even"><td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-file">
<span class="sig-name descname"><span class="pre">--file</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-f">
<span class="sig-name descname"><span class="pre">-f</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-f" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><div class="line-block">
<div class="line">Input file path name (mp4/elementary-stream)</div>
<div class="line">Type:    string</div>
<div class="line">Range:   NA</div>
<div class="line">Default: NA</div>
<div class="line">Option:  Mandatory</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-forcekeyframe">
<span class="sig-name descname"><span class="pre">--forcekeyframe</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-forcekeyframe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-k">
<span class="sig-name descname"><span class="pre">-k</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-k" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</td>
<td><div class="line-block">
<div class="line">Keyframe (IDR frame) insertion frequency in number of frames</div>
<div class="line">Type:    int</div>
<div class="line">Range:   NA</div>
<div class="line">Default: 0</div>
<div class="line">Option:  Optional</div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="json-usage">
<h3>JSON Usage<a class="headerlink" href="#json-usage" title="Permalink to this headline">¶</a></h3>
<p>The json file provided with <code class="docutils literal notranslate"><span class="pre">--json</span></code> option allows user to specify the ladder configuration with init time and run time (dynamic) property setting for each ladder.
The default json file that showcase basic ladder configuration (without run time property) is shown below.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;log-level&quot;: 2,
  &quot;ladder&quot;: {
      &quot;sink&quot;:&quot;filesink&quot;,
      &quot;outputs&quot; :[
       {
         &quot;height&quot; : 720,
         &quot;width&quot; : 1280,
         &quot;framerate&quot; : 60
       },
       {
         &quot;height&quot; : 720,
         &quot;width&quot; : 1280,
         &quot;framerate&quot; : 30
       },
       {
         &quot;height&quot; : 480,
         &quot;width&quot; : 848,
         &quot;framerate&quot; : 30
       },
       {
         &quot;height&quot; : 360,
         &quot;width&quot; : 640,
         &quot;framerate&quot; : 30
       },
       {
         &quot;height&quot; : 160,
         &quot;width&quot; : 288,
         &quot;framerate&quot; : 30
       }
      ]
    }
}
</pre></div>
</div>
<p id="dynamic-params-json">An example json file that showcase run time property (<code class="docutils literal notranslate"><span class="pre">dynamic_params</span></code>) change is shown below.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;log-level&quot;: 2,
  &quot;ladder&quot;: {
      &quot;sink&quot;:&quot;filesink&quot;,
      &quot;outputs&quot; :[
       {
         &quot;height&quot; : 720,
         &quot;width&quot; : 1280,
         &quot;framerate&quot; : 60,
         &quot;b-frames&quot; : 4,
         &quot;dynamic_params&quot; :[
         {
           &quot;frame&quot; : 600,
           &quot;b-frames&quot; : 2,
           &quot;bitrate&quot; : 6000
         },
         {
            &quot;frame&quot; : 1500,
            &quot;b-frames&quot; : 0,
            &quot;bitrate&quot; : 3000
         }
        ]
       },
       {
         &quot;height&quot; : 720,
         &quot;width&quot; : 1280,
         &quot;framerate&quot; : 30,
         &quot;b-frames&quot; : 4,
         &quot;spatial-aq&quot; : false,
         &quot;temporal-aq&quot; : false,
         &quot;spatial-aq-gain&quot; : 50,
         &quot;dynamic_params&quot; :[
         {
           &quot;frame&quot; : 500,
           &quot;spatial-aq&quot; : true,
           &quot;temporal-aq&quot; : false,
           &quot;spatial-aq-gain&quot; : 50
         },
         {
           &quot;frame&quot; : 1500,
           &quot;spatial-aq&quot; : true,
           &quot;temporal-aq&quot; : true,
           &quot;spatial-aq-gain&quot; : 50
         }
        ]
       },
       {
         &quot;height&quot; : 480,
         &quot;width&quot; : 848,
         &quot;framerate&quot; : 30,
         &quot;b-frames&quot; : 4,
         &quot;dynamic_params&quot; :[
         {
           &quot;frame&quot; : 1000,
           &quot;b-frames&quot; : 2,
           &quot;spatial-aq&quot; : false,
           &quot;temporal-aq&quot; : true,
           &quot;spatial-aq-gain&quot; : 50
         },
         {
            &quot;frame&quot; : 1500,
            &quot;b-frames&quot; : 4,
            &quot;bitrate&quot; : 3000,
            &quot;spatial-aq&quot; : true,
            &quot;temporal-aq&quot; : true,
            &quot;spatial-aq-gain&quot; : 75
         }
        ]
       },
       {
         &quot;height&quot; : 360,
         &quot;width&quot; : 640,
         &quot;framerate&quot; : 30,
         &quot;b-frames&quot; : 4
       },
       {
         &quot;height&quot; : 160,
         &quot;width&quot; : 288,
         &quot;framerate&quot; : 30,
         &quot;b-frames&quot; : 4
       }
      ]
    }
}
</pre></div>
</div>
<p>The JSON entries are explained in table below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>JSON Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ladder</p></td>
<td><div class="line-block">
<div class="line">Indicates configuration of output ladder</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>sink</p></td>
<td><div class="line-block">
<div class="line">Sink plugin to use for the GStreamer pipeline</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>outputs</p></td>
<td><div class="line-block">
<div class="line">Array containing each ladder’s init time and run time (dynamic) configuration.</div>
<div class="line">Supported init time configuration for each ladder are:</div>
<div class="line-block">
<div class="line">height</div>
<div class="line">width</div>
<div class="line">framerate</div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-7"><code class="xref std std-option docutils literal notranslate"><span class="pre">b-frames</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-target-bitrate"><code class="xref std std-option docutils literal notranslate"><span class="pre">target-bitrate</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-9"><code class="xref std std-option docutils literal notranslate"><span class="pre">gop-length</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-lookahead-depth"><code class="xref std std-option docutils literal notranslate"><span class="pre">lookahead-depth</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-11"><code class="xref std std-option docutils literal notranslate"><span class="pre">rc-mode</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-spatial-aq"><code class="xref std std-option docutils literal notranslate"><span class="pre">spatial-aq</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-temporal-aq"><code class="xref std std-option docutils literal notranslate"><span class="pre">temporal-aq</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-spatial-aq-gain"><code class="xref std std-option docutils literal notranslate"><span class="pre">spatial-aq-gain</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-max-bitrate"><code class="xref std std-option docutils literal notranslate"><span class="pre">max-bitrate</span></code></a></div>
<div class="line">h264-profile</div>
<div class="line">h264-level</div>
<div class="line">h265-profile</div>
<div class="line">h265-level</div>
<div class="line"><br /></div>
</div>
<div class="line">The default values of these parameters can be referred from the application source file.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>dynamic_params</p></td>
<td><div class="line-block">
<div class="line">Array entries inside <code class="docutils literal notranslate"><span class="pre">outputs</span></code> JSON key containing ladder parameters that can be changed at run time at specified <code class="docutils literal notranslate"><span class="pre">frame</span></code> number.</div>
<div class="line">Application expects entries in each ladder to be in ascending order of <code class="docutils literal notranslate"><span class="pre">frame</span></code> number.</div>
<div class="line">Supported run time parameters are :</div>
<div class="line-block">
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-7"><code class="xref std std-option docutils literal notranslate"><span class="pre">b-frames</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-target-bitrate"><code class="xref std std-option docutils literal notranslate"><span class="pre">bitrate</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-spatial-aq"><code class="xref std std-option docutils literal notranslate"><span class="pre">spatial-aq</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-temporal-aq"><code class="xref std std-option docutils literal notranslate"><span class="pre">temporal-aq</span></code></a></div>
<div class="line"><a class="reference internal" href="../../using_gstreamer.html#cmdoption-arg-spatial-aq-gain"><code class="xref std std-option docutils literal notranslate"><span class="pre">spatial-aq-gain</span></code></a></div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="examples">
<h2><a class="toc-backref" href="#id4">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Below are example commands for the ABR ladder use case. The output files are stored in <code class="file docutils literal notranslate"><span class="pre">/tmp/ladder_outputs/</span></code> folder. Ensure that enough space is availabe in this folder.</p>
<ol class="arabic">
<li><p>Running one ABR ladder on one device with lookahead (enabled by default):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vvas_xabrladder  --devidx 0 --codectype 0 --file &lt;path to file&gt;
</pre></div>
</div>
</li>
</ol>
<p>The above command takes the input video file (mp4 with H.264/H.265 or H.264/H.265 elementary stream) and produces 5 different H.264/H.265 elementary streams based on the codec type provided  (0 for H.264 and 1 for H.265) with the following resolutions: 720p60, 720p30, 480p30, 360p30 and 160p30.</p>
<ol class="arabic" start="2">
<li><p>Running one ABR ladder on one device without lookahead:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vvas_xabrladder  --devidx 0 --lookahead_enable 0 --codectype 0 --file &lt;path to file&gt;
</pre></div>
</div>
</li>
</ol>
<p>The above command takes the input video file (mp4 with H.264/H.265 or H.264/H.265 elementary stream) and produces 5 different H.264/H.265 elementary streams based on the codec type provided  (0 for H.264 and 1 for H.265) with the following resolutions: 720p60, 720p30, 480p30, 360p30 and 160p30.</p>
<ol class="arabic" start="3">
<li><p>Running one ABR ladder on one device with lookahead enabled, and using the short-form options:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vvas_xabrladder -i 0 -l 1 -c 0 -f &lt;path to file&gt;
</pre></div>
</div>
</li>
<li><p>Running two ABR ladders, mapping each ladder to a specific device using the devidx option:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vvas_xabrladder --devidx 0 --lookahead_enable 0 --codectype 1 --file &lt;path to file&gt;
vvas_xabrladder --devidx 1 --lookahead_enable 0 --codectype 1 --file &lt;path to file&gt;
</pre></div>
</div>
</li>
<li><p>Running four ABR ladders on one device, leveraging the devidx option to optimally leverage resources:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vvas_xabrladder --devidx 0 --lookahead_enable 0 --codectype 1 --file &lt;path to file&gt;
vvas_xabrladder --devidx 0 --lookahead_enable 0 --codectype 1 --file &lt;path to file&gt;
vvas_xabrladder --devidx 0 --lookahead_enable 0 --codectype 1 --file &lt;path to file&gt;
vvas_xabrladder --devidx 0 --lookahead_enable 0 --codectype 1 --file &lt;path to file&gt;
</pre></div>
</div>
</li>
<li><p>The four ABR ladders above can also be run using the <code class="file docutils literal notranslate"><span class="pre">examples/gstreamer/tutorials/14_gst_app_transcode_plus_scale.sh</span></code> script:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;path to script&gt;/14_gst_app_transcode_plus_scale.sh 0 &lt;path to file&gt;
</pre></div>
</div>
</li>
<li><p>Running one ABR ladder to insert Key (IDR) frames every 30 frames:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vvas_xabrladder --devidx 0 --lookahead_enable 0 --codectype 1 --forcekeyframe 30 --file &lt;path to input file&gt;
</pre></div>
</div>
</li>
</ol>
<ol class="arabic" id="dynamic-params-test-example" start="8">
<li><p>Running one ABR ladder to dynamically change encoder and lookahead parameters:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vvas_xabrladder --json &lt;path to json file with dynamic parameters configuration&gt; --devidx 0 --codectype 1 --file &lt;path to input file&gt;
</pre></div>
</div>
</li>
</ol>
</section>
</section>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../xma/xma_apps.html" class="btn btn-neutral float-right" title="XMA Examples for the Xilinx Video SDK" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="xcompositor.html" class="btn btn-neutral float-left" title="GStreamer Compositor Application" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on June 07, 2022.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
														
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<div class="lang-select dropup hidden-md hidden-lg">
		<button data-toggle="dropdown">
			<span class="fas fa-globe" aria-hidden="true"></span>
			<span>
				
					English
				</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a target="_blank" href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
																	<div class="lang-select dropup hidden-xs hidden-sm">
	<button data-toggle="dropdown">
		<span class="fas fa-globe" aria-hidden="true"></span>
		<span>
			
				English
			</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
															</div>
														</div>
														<div class="col-md-pull-5 col-lg-pull-5 col-md-5 col-lg-5">
															<span class="copyright">©2022 Advanced Micro Devices, Inc</span>
														</div>

													</div>
													                    <div class="movethisrowtoleft row">
                        <div class="col-xs-24">
                            <ul class="sub-menu">
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a></li>
								<li><a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a></li>
                                <li><a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></li>
                            </ul>
                        </div>
                    </div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
<div class="backToTop parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><noindex>
    <span data-component="backToTopButton" class="backToTopButton loaded">
        <ul>
            <li>
                <a href="https://www.author.xilinx.com/xx/rebrand/amd/en-amd-xilinx-header-footer.html#top" class="btn top">
                    <span class="fas fa-angle-up" aria-hidden="true"></span>
                </a>
            </li>
        </ul>
    </span>
</noindex></div>
			</div>
		</div>


		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>